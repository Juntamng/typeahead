{"version":3,"sources":["components/SearchTextbox.component.jsx","components/ScrollableDiv.component.jsx","components/util.js","components/Typeahead.component.jsx","components/TypeaheadAsync.component.jsx","App.js","reportWebVitals.js","index.js"],"names":["SearchTextbox","props","textInput","React","createRef","focusTextInput","bind","handleClear","addClearIcon","this","current","focus","e","onClear","searchText","length","className","onClick","type","placeholder","ref","value","onChange","onSearchText","onKeyUp","onFocus","Component","ScrollableDiv","divRef","scrollIntoView","record","formatContent","name","collection","map","val","idx","index","onSelectItem","id","renderContent","getRecord","obj","formatRecord","newObj","Error","validObj","Typeahead","state","filterData","open","loading","showDropdown","handleSearchText","handleKeyUp","handleFocus","handleSelectItem","handleClick","closeOnWindowClick","setState","setValue","window","addEventListener","removeEventListener","stopPropagation","event","target","_","debounce","filter","key","search","RegExp","clearKeyIndex","resetState","findItem","find","handleEnter","item","notFound","prevProps","prevState","snapshot","JSON","stringify","collectionFilter","setLoading","onCollectionFilter","App","useState","showCode1","setShowCode1","showCode2","setShowCode2","showCode3","setShowCode3","data","colAsync","setColAsync","valueAsync","setValueAsync","colUser","setColUser","valueUser","setValueUser","useEffect","fetch","then","response","json","results","href","style","marginTop","keyword","setTimeout","includes","textAlign","login","uuid","first","last","pic","picture","thumbnail","src","alt","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.397f7eec.chunk.js","sourcesContent":["import React from 'react';\n\nimport './SearchTextbox.style.css';\n\nclass SearchTextbox extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.textInput = React.createRef();\n        this.focusTextInput = this.focusTextInput.bind(this);\n        this.handleClear = this.handleClear.bind(this);\n        //this.handleToggle = this.handleToggle.bind(this);\n\n        this.addClearIcon = this.addClearIcon.bind(this);\n    }\n\n    focusTextInput() {\n        this.textInput.current.focus();\n    }\n\n    handleClear(e) {\n        this.props.onClear(e);\n        this.focusTextInput();\n    }\n\n    // handleToggle(e) {\n    //     this.props.onToggle(e);\n    //     this.focusTextInput();\n    // }\n\n    addClearIcon() {\n        return this.props.searchText.length ? \n            <div className='clear' onClick={this.handleClear}>×</div>\n            : \"\"\n    }\n\n    render() {\n        return (\n            <div className='search_textbox'>\n                <input type='text' \n                    placeholder='Search' \n                    ref={this.textInput}\n                    value={this.props.searchText}\n                    onChange={this.props.onSearchText} \n                    onKeyUp={this.props.onKeyUp}\n                    onFocus={this.props.onFocus}\n                />\n                { this.addClearIcon() }\n            {/*<div className='expand' onClick={this.handleToggle}>ᐯ</div>*/}\n            </div>\n        )\n    }\n}\n\nexport default SearchTextbox;","import React from 'react';\nimport './ScrollableDiv.style.css';\n\nclass ScrollableDiv extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.divRef = React.createRef();\n    }\n\n    componentDidUpdate() {\n        this.divRef.current && this.divRef.current.scrollIntoView(false);\n    }\n\n    renderContent(record) {\n        if (this.props.formatContent) {\n            return this.props.formatContent(record);\n        }\n        else {\n            return record.name;\n        }\n    }\n\n    render() {\n        return (\n        <div className='scrollabe_div'>\n            <ul>\n                {\n                    this.props.collection.map( (val, idx) => {\n                        return (<li key={val.id}\n                            ref={ (this.props.index === idx) ? this.divRef : null } \n                            className={ (this.props.index === idx) ? \"selected\" : \"\"} \n                            onClick={ () => this.props.onSelectItem(val.id) } \n                        >\n                            {this.renderContent(val)}\n                        </li>);\n                    })\n                }\n            </ul>\n        </div>\n        )\n    }\n}\n\nexport default ScrollableDiv;","function validObj(obj) {\n  if (!obj.id)\n      throw new Error(\"id is missing in record!\");\n  \n  if (!obj.name)\n      throw new Error(\"name is missing in record!\");\n}\n\nexport function getRecord(obj, formatRecord) {\n  let newObj = obj;\n\n  if (formatRecord)\n      newObj = formatRecord(obj);\n\n  validObj(newObj);\n\n  return newObj;\n}\n\n","import React from 'react';\nimport _ from 'underscore';\n\nimport SearchTextbox from \"./SearchTextbox.component\";\nimport ScrollableDivComponent from \"./ScrollableDiv.component\";\n\nimport {getRecord} from './util.js';\n\nimport './Typeahead.style.css';\n\nclass Typeahead extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchText: '',\n            name: '',\n            filterData: [],\n            open: false,\n            loading: false,\n            index: -1\n        }\n\n        if (props.value) {\n            this.state.searchText = this.state.name = props.value.name;\n        }\n\n        this.showDropdown = this.showDropdown.bind(this);\n\n        this.handleSearchText = this.handleSearchText.bind(this);\n        this.handleClear = this.handleClear.bind(this);\n        //this.handleToggle = this.handleToggle.bind(this);\n        this.handleKeyUp = this.handleKeyUp.bind(this);\n        this.handleFocus = this.handleFocus.bind(this);\n\n        this.handleSelectItem = this.handleSelectItem.bind(this);\n\n        this.handleClick = this.handleClick.bind(this);\n        this.closeOnWindowClick = this.closeOnWindowClick.bind(this);\n    }\n    \n    resetState() {\n        this.setState({\n            searchText: '',\n            name: '',\n            filterData: [],\n            open: false,\n            loading: false,\n            index: -1\n        });\n\n        this.props.setValue && this.props.setValue();\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"click\", this.closeOnWindowClick);\n    }\n    \n    componentWillUnmount() {\n        window.removeEventListener(\"click\", this.closeOnWindowClick);\n    }\n\n    handleClick(e) {\n        e.stopPropagation();\n    }\n\n    clearKeyIndex() {\n        this.setState({index: -1});\n    }\n\n    handleSearchText(event) {\n        this.setState({\n            searchText: event.target.value, \n            loading: true\n        });\n\n        if (event.target.value === \"\") \n        {\n            this.setState({\n                filterData: [],\n                loading: false\n            });\n            return ;\n        }\n        \n        _.debounce( () => {\n            this.setState({\n                filterData: this.props.collection\n                    .map((val) => getRecord(val, this.props.formatRecord))\n                    .filter((val, key) => {\n                        return val.name.search(new RegExp(event.target.value, \"i\")) > -1\n                    }),\n                loading: false,\n                open: true\n            });\n            this.clearKeyIndex();\n        }, 200)();\n    }\n\n    handleClear(e) {\n        this.resetState();\n    }\n\n    // handleToggle(e) {\n    //     this.setState( (state, props) => {\n    //         let bToggle = !state.toggle;\n\n    //         if (state.filterData.length === 0) {\n    //             bToggle = (state.searchText.length) ? bToggle = true : false;  \n    //         }\n            \n    //         return { toggle: bToggle };\n    //     });\n    //     this.clearKeyIndex();\n    // }\n\n    handleSelectItem(id) {\n        const findItem = this.state.filterData\n            .find((val) => val.id === id);\n\n        if (findItem) {\n            this.setState({\n                searchText: findItem.name,\n                name: findItem.name,\n                open: false\n            });\n\n            this.props.setValue && this.props.setValue({...findItem});\n        }\n        \n        this.clearKeyIndex();\n    }\n\n    handleKeyUp(e) {\n        switch (e.key) {\n            case \"ArrowUp\":\n                if (this.state.index > 0) {\n                    this.setState((state, props) => {\n                        return { index: state.index-1 }\n                    })\n                }\n                break;\n            case \"ArrowDown\":\n                if (this.state.index < this.state.filterData.length-1) {\n                    this.setState((state, props) => {\n                        return {index: state.index+1}\n                    })\n                }\n                break;\n            case \"Enter\":\n                this.handleEnter();\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleFocus() {\n        this.setState( { open: true } );\n    }\n\n    handleEnter() {\n        if (this.state.index > -1) {\n            const item = this.state.filterData[this.state.index];\n            \n            if (item)\n                this.handleSelectItem(item.id);\n        }\n    }\n\n    closeOnWindowClick() { \n        this.setState({open: false});\n    }\n\n    notFound() {\n        // todo: component\n        return <div className={\"notfound\"}>Not Found!</div>;\n    }\n\n    showDropdown() {        \n        if (this.state.open && this.state.searchText.length) {\n            if (this.state.searchText === this.state.name) {\n                return '';\n            }\n            else if (this.state.filterData.length) {              \n                return (\n                    <ScrollableDivComponent \n                        loading={this.state.loading} \n                        collection={this.state.filterData} \n                        onSelectItem={this.handleSelectItem} \n                        index={this.state.index}\n                        formatContent={this.props.formatContent}\n                    />\n                );\n            }\n            else {\n                if (!this.state.loading) \n                    return this.notFound();\n            }\n        }\n        else {\n            return \"\"\n        }\n    }\n\n    render() {\n        return (\n            \n            <div className='typeahead' onClick={this.handleClick}>\n                <SearchTextbox \n                    onSearchText={this.handleSearchText} \n                    onClear={this.handleClear}\n                    //onToggle={this.handleToggle}\n                    onKeyUp={this.handleKeyUp}\n                    onFocus={this.handleFocus}\n                    searchText={this.state.searchText}\n                />\n                { this.showDropdown() }\n                \n            </div>    \n    )}\n}\n\nexport default Typeahead;","import React from 'react';\nimport _ from 'underscore';\n\nimport SearchTextbox from \"./SearchTextbox.component\";\nimport ScrollableDivComponent from \"./ScrollableDiv.component\";\n\nimport {getRecord} from './util.js';\n\nimport './Typeahead.style.css';\n\nclass Typeahead extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchText: '',\n            name: '',\n            filterData: [],\n            open: false,\n            index: -1\n        }\n\n        if (props.value) {\n            this.state.searchText = this.state.name = props.value.name;\n        }\n\n        this.showDropdown = this.showDropdown.bind(this);\n\n        this.handleSearchText = this.handleSearchText.bind(this);\n        this.handleClear = this.handleClear.bind(this);\n        //this.handleToggle = this.handleToggle.bind(this);\n        this.handleKeyUp = this.handleKeyUp.bind(this);\n        this.handleFocus = this.handleFocus.bind(this);\n\n        this.handleSelectItem = this.handleSelectItem.bind(this);\n\n        this.handleClick = this.handleClick.bind(this);\n        this.closeOnWindowClick = this.closeOnWindowClick.bind(this);\n    }\n    \n    resetState() {\n        this.setState({\n            searchText: '',\n            name: '',\n            open: false,\n            index: -1\n        });\n\n        this.props.setValue && this.props.setValue();\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"click\", this.closeOnWindowClick);\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (JSON.stringify(prevProps.collectionFilter) !== JSON.stringify(this.props.collectionFilter)) {\n            this.setState({ \n                filterData: this.props.collectionFilter\n                                .map((val) => getRecord(val, this.props.formatRecord))\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"click\", this.closeOnWindowClick);\n    }\n\n    handleClick(e) {\n        e.stopPropagation();\n    }\n\n    clearKeyIndex() {\n        this.setState({index: -1});\n    }\n\n    handleSearchText(event) {\n        const val = event.target.value;\n\n        this.setState({\n            searchText: val, \n            open: true\n        });\n        \n        this.props.setLoading(true);\n\n        _.debounce( () => {\n            this.props.onCollectionFilter(val)\n            this.clearKeyIndex();\n        }, 200)();\n    }\n\n    handleClear(e) {\n        this.resetState();\n    }\n\n    // handleToggle(e) {\n    //     this.setState( (state, props) => {\n    //         let bToggle = !state.toggle;\n\n    //         if (this.props.collectionFilter.length === 0) {\n    //             bToggle = (state.searchText.length) ? bToggle = true : false;  \n    //         }\n            \n    //         return { toggle: bToggle };\n    //     });\n    //     this.clearKeyIndex();\n    // }\n\n    handleSelectItem(id) {\n        const findItem = this.state.filterData.find(val => val.id === id);\n\n        if (findItem) {\n            this.setState({\n                searchText: findItem.name,\n                name: findItem.name,\n                open: false\n            });\n\n            this.props.setValue && this.props.setValue({...findItem});\n        }\n        \n        this.clearKeyIndex();\n    }\n\n    handleKeyUp(e) {\n        switch (e.key) {\n            case \"ArrowUp\":\n                if (this.state.index > 0) {\n                    this.setState((state, props) => {\n                        return { index: state.index-1 }\n                    })\n                }\n                break;\n            case \"ArrowDown\":\n                if (this.state.index < this.state.filterData.length-1) {\n                    this.setState((state, props) => {\n                        return {index: state.index+1}\n                    })\n                }\n                break;\n            case \"Enter\":\n                this.handleEnter();\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleFocus() {\n        this.setState( { open: true } );\n    }\n\n    handleEnter() {\n        if (this.state.index > -1) {\n            const item = this.state.filterData[this.state.index];\n            \n            if (item)\n                this.handleSelectItem(item.id);\n        }\n    }\n\n    closeOnWindowClick() { \n        this.setState({open: false});\n    }\n\n    notFound() {\n        // todo: component\n        return <div className={\"notfound\"}>Not Found!</div>;\n    }\n\n    showDropdown() {\n        if (this.state.open && this.state.searchText.length) {\n            if (this.state.searchText === this.state.name) {\n                return '';\n            }\n            else if (this.state.filterData.length) {                \n                return (\n                    <ScrollableDivComponent \n                        loading={this.props.loading} \n                        collection={this.state.filterData} \n                        onSelectItem={this.handleSelectItem} \n                        index={this.state.index}\n                        formatContent={this.props.formatContent}\n                    />\n                );\n            }\n            else {\n                if (!this.props.loading) \n                    return this.notFound();\n            }\n        }\n        else {\n            return \"\"\n        }\n    }\n\n    render() {\n        return (\n            <div className='typeahead' onClick={this.handleClick}>\n                <SearchTextbox \n                    onSearchText={this.handleSearchText} \n                    onClear={this.handleClear}\n                    //onToggle={this.handleToggle}\n                    onKeyUp={this.handleKeyUp}\n                    onFocus={this.handleFocus}\n                    searchText={this.state.searchText}\n                />\n                { this.showDropdown() }\n                \n            </div>    \n    )}\n}\n\nexport default Typeahead;","import {useState, useEffect} from 'react';\nimport Typeahead from './components/Typeahead.component';\nimport TypeaheadAsync from './components/TypeaheadAsync.component';\n\nfunction App() {\n  const [showCode1, setShowCode1] = useState(false);\n  const [showCode2, setShowCode2] = useState(false);\n  const [showCode3, setShowCode3] = useState(false);\n\n  // regular example \n  const data = [\n    {id: 1, name: 'mike'},\n    {id: 2, name: 'tony'},\n    {id: 3, name: 'john'},\n    {id: 4, name: 'mary'},\n    {id: 5, name: 'tom'},\n    {id: 6, name: 'henry'},\n    {id: 7, name: 'alton'},\n    {id: 8, name: 'ethan'},\n    {id: 9, name: 'odelia'},\n    {id: 10, name: 'michael'},\n    {id: 11, name: 'hayden'},\n    {id: 12, name: 'cam'}\n  ]\n\n  // Regular Typeahead \n  const [value, setValue] = useState();\n  \n  // Typeahead - API Response \n  const [loading, setLoading] = useState(false);\n  const [colAsync, setColAsync] = useState([]);\n  const [valueAsync, setValueAsync] = useState({id:0, name:\"Somebody\"});\n  \n  const filterAsync = (keyword) => {\n    setLoading(true);\n    setTimeout(() => {\n      setColAsync(data.filter( (item) => item.name.includes(keyword) ) );\n      setLoading(false);\n    }\n    , 500);\n  };\n  \n  // Typeahead - formatRecord, formatContent\n  const [colUser, setColUser] = useState([]);\n  const [valueUser, setValueUser] = useState();\n\n  useEffect(()=> {\n    fetch('https://randomuser.me/api/?page=1&results=30&seed=abc')\n    .then(response => response.json())\n    .then(data => {\n      setColUser(data.results);\n    })\n  }, []);\n  \n  const formatUserRecord = (record) => {\n    return {\n      id: record.login.uuid, \n      name: `${record.name.first} ${record.name.last}`,\n      pic: record.picture.thumbnail\n    }\n  }\n\n  const formatUserContent = (record) => {\n    return <span><img src={record.pic} alt='profile' />{record.name}</span>\n  }\n\n  return (\n    <>\n    <div className='header'>      \n      <h3>React Typeahead Component </h3>\n    </div>\n\n    <div className=\"container\">\n\n      {/* Regular Typeahead */}\n      <div className=\"row\">\n        <a href='javascript:void(0)' className=\"u-pull-right\" onClick={() => {setShowCode1(!showCode1)}}>{ showCode1 ? \"Hide\" : \"Show\" } Code</a>\n        <div className=\"four columns offset-by-four\"> \n          <h5> Regular Typeahead </h5>\n          <div>\n            <Typeahead\n              collection={data}\n              value={value}\n              setValue={setValue}\n            />\n          </div>\n          <br/>\n          <div>Value is {JSON.stringify(value)}</div>\n        </div>\n      </div>\n      <div className=\"row\">\n        { showCode1 ? \n        <div className=\"twelve columns\">\n          <pre>\n        <code>\n{`\nconst data = [\n  {id: 1, name: 'mike'},\n  {id: 2, name: 'tony'},\n  ...\n];\n\n// Regular Typeahead \nconst [value, setValue] = useState();\n\nreturn (\n  <Typeahead\n    collection={data}\n    value={value}\n    setValue={setValue}\n  />      \n  <div>Value is {JSON.stringify(value)}</div>\n);\n`}\n        </code>\n        </pre>\n        </div>\n        : \"\"\n        }\n        <hr></hr>\n      </div>\n      {/* Regular Typeahead */}\n\n      {/* Typeahead - API Response */}\n      <div className=\"row\" style={{ marginTop: \"50px\"}}>\n        <a href='javascript:void(0)' className=\"u-pull-right\" onClick={() => {setShowCode2(!showCode2)}}>{ showCode2 ? \"Hide\" : \"Show\" } Code</a>\n        <div className=\"four columns offset-by-four\"> \n          <h5> Typeahead - API Response </h5>\n          <div >\n          <TypeaheadAsync \n            collectionFilter={colAsync}\n            onCollectionFilter={filterAsync}\n\n            loading={loading}\n            setLoading={setLoading}\n        \n            value={valueAsync}\n            setValue={setValueAsync}\n          />\n          </div>\n          <br/>\n          <div>Value is {JSON.stringify(valueAsync)}</div>\n        </div>\n      </div>\n      <div className=\"row\">\n        { showCode2 ? \n        <div className=\"twelve columns\">\n          <pre>\n        <code>\n{`\nconst [loading, setLoading] = useState(false);\nconst [colAsync, setColAsync] = useState([]);\nconst [valueAsync, setValueAsync] = useState({id:0, name:\"nothing\"});\n\nconst filterAsync = (keyword) => {\n  setLoading(true);\n  setTimeout(() => {\n    setColAsync(data.filter( (item) => item.name.includes(keyword) ) );\n    setLoading(false);\n  }\n  , 500);\n};\n\nreturn (\n  <TypeaheadAsync \n    collectionFilter={colAsync}\n    onCollectionFilter={filterAsync}\n\n    loading={loading}\n    setLoading={setLoading}\n\n    value={valueAsync}\n    setValue={setValueAsync}\n  />\n  <div>Value is {JSON.stringify(valueAsync)}</div>\n);\n`}\n        </code>\n        </pre>\n        </div>\n        : \"\"}\n        <hr></hr>\n      </div>\n      {/* Typeahead - API Response */}\n\n      {/* Typeahead - formatRecord and formatContent */}\n      <div className=\"row\" style={{ marginTop: \"50px\" }}>\n      <a href='javascript:void(0)' className=\"u-pull-right\" onClick={() => {setShowCode3(!showCode3)}}>{ showCode3 ? \"Hide\" : \"Show\" } Code</a>\n        <div className=\"eight columns offset-by-two\"> \n          <h5>Typeahead - formatRecord and formatContent</h5>\n          <h6 style={{ textAlign: \"left\"}}>Record needs id and name properties. When data is coming form third party API, formatRecord is used to format the record.\n            you can also use formatContent to overwrite the dropdown row format.\n          </h6>\n          <div>\n            <Typeahead\n              collection={colUser}\n              value={valueUser}\n              setValue={setValueUser}\n\n              formatRecord={formatUserRecord}\n              formatContent={formatUserContent}\n            />\n          </div>\n          <br/>\n          <div>Value is {JSON.stringify(valueUser)}</div>\n        </div>\n      </div>\n      <div className=\"row\">\n        { showCode3 ? \n        <div className=\"twelve columns\">\n          <pre>\n        <code>\n{`\nconst formatUserRecord = (record) => {\n  return {\n    id: record.login.uuid, \n    name: \\`$\\{record.name.first} $\\{record.name.last}\\`,\n    pic: record.picture.thumbnail\n  }\n}\n\nconst formatUserContent = (record) => {\n  return <span><img src={record.pic} alt='profile'/>{record.name}</span>\n}\n\nreturn (\n  <Typeahead\n    collection={colUser}\n    value={valueUser}\n    setValue={setValueUser}\n\n    formatRecord={formatUserRecord}\n    formatContent={formatUserContent}\n  />\n  <div>Value is {JSON.stringify(valueUser)}</div>\n);\n`}\n        </code>\n        </pre>\n        </div>\n        : \"\"}\n        <hr></hr>\n      </div>\n      {/* Typeahead - formatRecord and formatContent */}\n\n    </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './css/normalize.css';\nimport './css/skeleton.css';\nimport './index.css';\n\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}